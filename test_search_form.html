<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Search Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-md mx-auto bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold mb-4">Test Search Form</h1>
        
        <form id="testForm" class="space-y-4" onsubmit="handleSubmit(event)">
            <div>
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">
                    Phone Number
                </label>
                <input
                    type="tel"
                    id="phone"
                    name="phone"
                    placeholder="+1-555-0105"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                    value="+1-555-0105"
                    required
                />
            </div>
            
            <div>
                <label for="date" class="block text-sm font-medium text-gray-700 mb-1">
                    Booking Date
                </label>
                <input
                    type="date"
                    id="date"
                    name="date"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                    value="2024-04-20"
                    min="2020-01-01"
                    max="2030-12-31"
                    required
                />
            </div>
            
            <button
                type="submit"
                id="search-button"
                class="w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors"
            >
                Search
            </button>
        </form>
        
        <div id="result" class="mt-4 p-4 bg-gray-50 rounded-lg hidden">
            <h2 class="font-bold text-lg mb-2">Form Submitted!</h2>
            <div id="resultData"></div>
        </div>
    </div>
    
    <script>
        function handleSubmit(event) {
            event.preventDefault();
            event.stopPropagation();
            
            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            console.log('Form submitted:', data);
            
            const resultDiv = document.getElementById('result');
            const resultData = document.getElementById('resultData');
            
            resultData.innerHTML = `
                <p><strong>Phone:</strong> ${data.phone}</p>
                <p><strong>Date:</strong> ${data.date}</p>
                <p><strong>Date Display:</strong> ${new Date(data.date).toLocaleDateString()}</p>
            `;
            
            resultDiv.classList.remove('hidden');
            
            return false;
        }
        
        // Test Enter key on inputs
        document.getElementById('phone').addEventListener('keydown', function(e) {
            console.log('Phone keydown:', e.key);
            if (e.key === 'Enter') {
                console.log('Enter pressed on phone field');
            }
        });
        
        document.getElementById('date').addEventListener('keydown', function(e) {
            console.log('Date keydown:', e.key);
            if (e.key === 'Enter') {
                console.log('Enter pressed on date field');
            }
        });
        
        // Log when date value changes
        document.getElementById('date').addEventListener('change', function(e) {
            console.log('Date changed:', e.target.value);
            console.log('Date value length:', e.target.value.length);
            console.log('Date validity:', e.target.validity);
        });
        
        // Log initial date value
        window.addEventListener('DOMContentLoaded', function() {
            const dateInput = document.getElementById('date');
            console.log('Initial date value:', dateInput.value);
            console.log('Initial date value length:', dateInput.value.length);
            console.log('Initial date validity:', dateInput.validity);
        });
    </script>
</body>
</html>
